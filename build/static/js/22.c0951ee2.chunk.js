(this["webpackJsonpmy-ap"]=this["webpackJsonpmy-ap"]||[]).push([[22],{279:function(e,t,o){"use strict";var n=o(5),a=o(4),r=o(3),l=o(0),i=o(436),c=o(257),s=o(10),f=o.n(s),u=o(288),p={adjustX:1,adjustY:1},d={adjustX:0,adjustY:0},b=[0,0];function m(e){return"boolean"===typeof e?e?p:d:Object(r.a)(Object(r.a)({},d),e)}var v=o(67),O=o(45),y=o(333),j=o(47),h=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o},g=new RegExp("^(".concat(y.a.join("|"),")(-inverse)?$"));function C(e,t){var o=e.type;if((!0===o.__ANT_BUTTON||!0===o.__ANT_SWITCH||!0===o.__ANT_CHECKBOX||"button"===e.type)&&e.props.disabled){var n=function(e,t){var o={},n=Object(r.a)({},e);return t.forEach((function(t){e&&t in e&&(o[t]=e[t],delete n[t])})),{picked:o,omitted:n}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=n.picked,i=n.omitted,c=Object(r.a)(Object(r.a)({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=Object(r.a)(Object(r.a)({},i),{pointerEvents:"none"}),u=Object(v.a)(e,{style:s,className:null});return l.createElement("span",{style:c,className:f()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},u)}return e}var w=l.forwardRef((function(e,t){var o,s=l.useContext(O.b),p=s.getPopupContainer,d=s.getPrefixCls,y=s.direction,w=Object(c.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),x=Object(a.a)(w,2),N=x[0],E=x[1],k=function(){var t=e.title,o=e.overlay;return!t&&!o&&0!==t},P=function(){var t=e.builtinPlacements,o=e.arrowPointAtCenter,n=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,o=void 0===t?4:t,n=e.horizontalArrowShift,a=void 0===n?16:n,l=e.verticalArrowShift,i=void 0===l?8:l,c=e.autoAdjustOverflow,s={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(a+o),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+o)]},topRight:{points:["br","tc"],offset:[a+o,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+o)]},bottomRight:{points:["tr","bc"],offset:[a+o,4]},rightBottom:{points:["bl","cr"],offset:[4,i+o]},bottomLeft:{points:["tl","bc"],offset:[-(a+o),4]},leftBottom:{points:["br","cl"],offset:[-4,i+o]}};return Object.keys(s).forEach((function(t){s[t]=e.arrowPointAtCenter?Object(r.a)(Object(r.a)({},s[t]),{overflow:m(c),targetOffset:b}):Object(r.a)(Object(r.a)({},u.a[t]),{overflow:m(c)}),s[t].ignoreShake=!0})),s}({arrowPointAtCenter:o,autoAdjustOverflow:n})},T=e.getPopupContainer,S=h(e,["getPopupContainer"]),I=e.prefixCls,V=e.openClassName,A=e.getTooltipContainer,D=e.overlayClassName,R=e.color,_=e.overlayInnerStyle,B=e.children,L=d("tooltip",I),z=d(),H=N;!("visible"in e)&&k()&&(H=!1);var K,F=C(Object(v.b)(B)?B:l.createElement("span",null,B),L),q=F.props,M=f()(q.className,Object(n.a)({},V||"".concat(L,"-open"),!0)),W=f()(D,(o={},Object(n.a)(o,"".concat(L,"-rtl"),"rtl"===y),Object(n.a)(o,"".concat(L,"-").concat(R),R&&g.test(R)),o)),X=_;return R&&!g.test(R)&&(X=Object(r.a)(Object(r.a)({},_),{background:R}),K={background:R}),l.createElement(i.a,Object(r.a)({},S,{prefixCls:L,overlayClassName:W,getTooltipContainer:T||A||p,ref:t,builtinPlacements:P(),overlay:function(){var t=e.title,o=e.overlay;return 0===t?t:o||t||""}(),visible:H,onVisibleChange:function(t){var o;E(!k()&&t),k()||null===(o=e.onVisibleChange)||void 0===o||o.call(e,t)},onPopupAlign:function(e,t){var o=P(),n=Object.keys(o).filter((function(e){return o[e].points[0]===t.points[0]&&o[e].points[1]===t.points[1]}))[0];if(n){var a=e.getBoundingClientRect(),r={top:"50%",left:"50%"};n.indexOf("top")>=0||n.indexOf("Bottom")>=0?r.top="".concat(a.height-t.offset[1],"px"):(n.indexOf("Top")>=0||n.indexOf("bottom")>=0)&&(r.top="".concat(-t.offset[1],"px")),n.indexOf("left")>=0||n.indexOf("Right")>=0?r.left="".concat(a.width-t.offset[0],"px"):(n.indexOf("right")>=0||n.indexOf("Left")>=0)&&(r.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(r.left," ").concat(r.top)}},overlayInnerStyle:X,arrowContent:l.createElement("span",{className:"".concat(L,"-arrow-content"),style:K}),motion:{motionName:Object(j.b)(z,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),H?Object(v.a)(F,{className:M}):F)}));w.displayName="Tooltip",w.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};t.a=w},288:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n={adjustX:1,adjustY:1},a=[0,0],r={left:{points:["cr","cl"],overflow:n,offset:[-4,0],targetOffset:a},right:{points:["cl","cr"],overflow:n,offset:[4,0],targetOffset:a},top:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:a},bottom:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:a},topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:a},leftTop:{points:["tr","tl"],overflow:n,offset:[-4,0],targetOffset:a},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:a},rightTop:{points:["tl","tr"],overflow:n,offset:[4,0],targetOffset:a},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:a},rightBottom:{points:["bl","br"],overflow:n,offset:[4,0],targetOffset:a},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:a},leftBottom:{points:["br","bl"],overflow:n,offset:[-4,0],targetOffset:a}}},322:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n=function(e){return e?"function"===typeof e?e():e:null}},333:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return r}));var n=o(69),a=Object(n.a)("success","processing","error","default","warning"),r=Object(n.a)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")},436:function(e,t,o){"use strict";var n=o(3),a=o(11),r=o(2),l=o(18),i=o(0),c=o(439),s=o(288),f=function(e){var t=e.overlay,o=e.prefixCls,n=e.id,a=e.overlayInnerStyle;return i.createElement("div",{className:"".concat(o,"-inner"),id:n,role:"tooltip",style:a},"function"===typeof t?t():t)},u=function(e,t){var o=e.overlayClassName,u=e.trigger,p=void 0===u?["hover"]:u,d=e.mouseEnterDelay,b=void 0===d?0:d,m=e.mouseLeaveDelay,v=void 0===m?.1:m,O=e.overlayStyle,y=e.prefixCls,j=void 0===y?"rc-tooltip":y,h=e.children,g=e.onVisibleChange,C=e.afterVisibleChange,w=e.transitionName,x=e.animation,N=e.motion,E=e.placement,k=void 0===E?"right":E,P=e.align,T=void 0===P?{}:P,S=e.destroyTooltipOnHide,I=void 0!==S&&S,V=e.defaultVisible,A=e.getTooltipContainer,D=e.overlayInnerStyle,R=Object(l.a)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),_=Object(i.useRef)(null);Object(i.useImperativeHandle)(t,(function(){return _.current}));var B=Object(r.a)({},R);"visible"in e&&(B.popupVisible=e.visible);var L=!1,z=!1;if("boolean"===typeof I)L=I;else if(I&&"object"===Object(a.a)(I)){var H=I.keepParent;L=!0===H,z=!1===H}return i.createElement(c.a,Object(n.a)({popupClassName:o,prefixCls:j,popup:function(){var t=e.arrowContent,o=void 0===t?null:t,n=e.overlay,a=e.id;return[i.createElement("div",{className:"".concat(j,"-arrow"),key:"arrow"},o),i.createElement(f,{key:"content",prefixCls:j,id:a,overlay:n,overlayInnerStyle:D})]},action:p,builtinPlacements:s.a,popupPlacement:k,ref:_,popupAlign:T,getPopupContainer:A,onPopupVisibleChange:g,afterPopupVisibleChange:C,popupTransitionName:w,popupAnimation:x,popupMotion:N,defaultPopupVisible:V,destroyPopupOnHide:L,autoDestroy:z,mouseLeaveDelay:v,popupStyle:O,mouseEnterDelay:b},B),h)},p=Object(i.forwardRef)(u);t.a=p},457:function(e,t,o){"use strict";var n=o(3),a=o(4),r=o(0),l=o(10),i=o.n(l),c=o(257),s=o(103),f=o(88),u=o(279),p=o(60),d=o(48),b=o(41),m=o(38),v=o(45),O=o(322),y=o(67),j=o(47),h=void 0,g=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o},C=r.forwardRef((function(e,t){var o=Object(c.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),l=Object(a.a)(o,2),s=l[0],C=l[1],w=function(t,o){var n;C(t),null===(n=e.onVisibleChange)||void 0===n||n.call(e,t,o)},x=function(t){var o;w(!1,t),null===(o=e.onConfirm)||void 0===o||o.call(h,t)},N=function(t){var o;w(!1,t),null===(o=e.onCancel)||void 0===o||o.call(h,t)},E=r.useContext(v.b).getPrefixCls,k=e.prefixCls,P=e.placement,T=e.children,S=e.overlayClassName,I=g(e,["prefixCls","placement","children","overlayClassName"]),V=E("popover",k),A=E("popconfirm",k),D=i()(A,S),R=r.createElement(b.a,{componentName:"Popconfirm",defaultLocale:m.a.Popconfirm},(function(t){return function(t,o){var a=e.okButtonProps,l=e.cancelButtonProps,i=e.title,c=e.cancelText,s=e.okText,f=e.okType,u=e.icon;return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},u,r.createElement("div",{className:"".concat(t,"-message-title")},Object(O.a)(i))),r.createElement("div",{className:"".concat(t,"-buttons")},r.createElement(p.a,Object(n.a)({onClick:N,size:"small"},l),c||o.cancelText),r.createElement(p.a,Object(n.a)({onClick:x},Object(d.a)(f),{size:"small"},a),s||o.okText)))}(V,t)})),_=E();return r.createElement(u.a,Object(n.a)({},I,{prefixCls:V,placement:P,onVisibleChange:function(t){e.disabled||w(t)},visible:s,overlay:R,overlayClassName:D,ref:t,transitionName:Object(j.b)(_,"zoom-big",e.transitionName)}),Object(y.a)(T,{onKeyDown:function(e){var t,o;r.isValidElement(T)&&(null===(o=null===T||void 0===T?void 0:(t=T.props).onKeyDown)||void 0===o||o.call(t,e)),function(e){e.keyCode===f.a.ESC&&s&&w(!1,e)}(e)}}))}));C.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:r.createElement(s.a,null),disabled:!1},t.a=C},631:function(e,t,o){"use strict";var n=o(3),a=o(5),r=o(0),l=o(4),i=o(18),c=o(10),s=o.n(c),f=o(257),u=o(88),p=r.forwardRef((function(e,t){var o,n=e.prefixCls,c=void 0===n?"rc-switch":n,p=e.className,d=e.checked,b=e.defaultChecked,m=e.disabled,v=e.loadingIcon,O=e.checkedChildren,y=e.unCheckedChildren,j=e.onClick,h=e.onChange,g=e.onKeyDown,C=Object(i.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=Object(f.a)(!1,{value:d,defaultValue:b}),x=Object(l.a)(w,2),N=x[0],E=x[1];function k(e,t){var o=N;return m||(E(o=e),null===h||void 0===h||h(o,t)),o}var P=s()(c,p,(o={},Object(a.a)(o,"".concat(c,"-checked"),N),Object(a.a)(o,"".concat(c,"-disabled"),m),o));return r.createElement("button",Object.assign({},C,{type:"button",role:"switch","aria-checked":N,disabled:m,className:P,ref:t,onKeyDown:function(e){e.which===u.a.LEFT?k(!1,e):e.which===u.a.RIGHT&&k(!0,e),null===g||void 0===g||g(e)},onClick:function(e){var t=k(!N,e);null===j||void 0===j||j(t,e)}}),v,r.createElement("span",{className:"".concat(c,"-inner")},N?O:y))}));p.displayName="Switch";var d=p,b=o(62),m=o(109),v=o(45),O=o(59),y=o(37),j=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o},h=r.forwardRef((function(e,t){var o,l=e.prefixCls,i=e.size,c=e.loading,f=e.className,u=void 0===f?"":f,p=e.disabled,h=j(e,["prefixCls","size","loading","className","disabled"]);Object(y.a)("checked"in h||!("value"in h),"Switch","`value` is not a valid prop, do you mean `checked`?");var g=r.useContext(v.b),C=g.getPrefixCls,w=g.direction,x=r.useContext(O.b),N=C("switch",l),E=r.createElement("div",{className:"".concat(N,"-handle")},c&&r.createElement(b.a,{className:"".concat(N,"-loading-icon")})),k=s()((o={},Object(a.a)(o,"".concat(N,"-small"),"small"===(i||x)),Object(a.a)(o,"".concat(N,"-loading"),c),Object(a.a)(o,"".concat(N,"-rtl"),"rtl"===w),o),u);return r.createElement(m.a,{insertExtraNode:!0},r.createElement(d,Object(n.a)({},h,{prefixCls:N,className:k,disabled:p||c,ref:t,loadingIcon:E})))}));h.__ANT_SWITCH=!0,h.displayName="Switch";t.a=h},801:function(e,t,o){"use strict";o.r(t);var n=o(4),a=o(0),r=o(13),l=o(34),i=o(20),c=o(2),s=o(570),f=o(144),u=o(789),p=o(631),d=o(60),b=o(457),m=o(46),v=o(6),O={labelCol:{span:2},wrapperCol:{span:20}},y={required:"${label} is required!",types:{email:"${label} is not a valid email!"}};var j=Object(r.h)((function(e){var t=Object(a.useState)(!1),o=Object(n.a)(t,2),r=o[0],j=o[1],h=Object(a.useContext)(m.a).dbKey,g=s.a.useForm(),C=Object(n.a)(g,1)[0];return Object(a.useEffect)((function(){C.setFieldsValue({name:e.employee.name,email:e.employee.email,admin:e.employee.admin})}),[]),Object(v.jsx)("div",{className:"addEmployee",style:{marginTop:"5em"},children:Object(v.jsxs)(s.a,Object(c.a)(Object(c.a)({},O),{},{form:C,className:"formStyle",name:"nest-messages",onFinish:function(t){j(!0),i.b.collection("users").doc(h).collection("employees").doc(e.employee.uid).set({name:t.name,email:t.email,admin:!!t.admin&&t.admin,id:t.name,uid:e.employee.uid}),f.b.success(t.name+"'s account has been updated"),C.resetFields(),j(!1),e.setEditMode(!1)},validateMessages:y,requiredMark:!1,children:[Object(v.jsx)(s.a.Item,{name:"name",label:"Name",rules:[{required:!0}],children:Object(v.jsx)(u.a,{})}),Object(v.jsx)(s.a.Item,{name:"email",label:"Email",rules:[{type:"email",required:!0}],children:Object(v.jsx)(u.a,{})}),Object(v.jsx)(s.a.Item,{name:"admin",label:"Admin",valuePropName:"checked",children:Object(v.jsx)(p.a,{})}),Object(v.jsxs)(s.a.Item,{wrapperCol:Object(c.a)(Object(c.a)({},O.wrapperCol),{},{offset:2}),children:[Object(v.jsx)(d.a,{type:"primary",htmlType:"submit",loading:r,children:"Submit"}),e.userInfo.admin&&e.employee.uid!==e.userInfo.uid?Object(v.jsx)(b.a,{title:"Are you sure you want to delete ".concat(e.employee.name,"?"),placement:"bottom",onConfirm:function(){return function(){var t=e.employee.uid;i.b.collection("users").doc(h).collection("employees").doc(e.employee.uid).delete().then((function(){})).then((function(){i.b.collection("users").doc(h).update({uid:l.a.firestore.FieldValue.arrayRemove(t)})})).then((function(){f.b.success(e.employee.name+"'s has been deleted"),e.history.push("/org-board")}))}()},okText:"Yes",cancelText:"No",children:Object(v.jsx)(d.a,{type:"danger",style:{float:"right"},children:"Delete"})}):null]})]}))})}));t.default=Object(r.h)((function(e){var t=Object(a.useState)(null),o=Object(n.a)(t,2),r=o[0],l=o[1],c=Object(a.useState)(!1),s=Object(n.a)(c,2),f=s[0],u=s[1],p=Object(a.useContext)(m.a),d=p.dbKey,b=p.userInfo;return Object(a.useEffect)((function(){d&&i.b.collection("users").doc(d).collection("employees").doc(e.match.params.uid).onSnapshot((function(t){t.data()?l(t.data()):e.history.push("/org-board")}))}),[d]),Object(v.jsx)("div",{className:"employeeWrapper",children:f?Object(v.jsx)(j,{employee:r,setEditMode:u,userInfo:b}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{textAlign:"center",marginTop:"3em",marginBottom:"1em"},children:Object(v.jsx)("h1",{style:{color:"#dddddd"},children:r&&r.name?r.name:null})}),Object(v.jsx)("div",{onClick:function(){return u(!0)},children:"edit"})]})})}))}}]);
//# sourceMappingURL=22.c0951ee2.chunk.js.map