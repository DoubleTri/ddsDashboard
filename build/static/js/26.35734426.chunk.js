(this["webpackJsonpmy-ap"]=this["webpackJsonpmy-ap"]||[]).push([[26],{443:function(e,n,t){"use strict";var r=t(36),c=t(19),a=t.n(c),i=t(20),s=function(){var e=Object(r.a)(a.a.mark((function e(n,t){var c,s,o,u,l,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,i.b.collection("users").doc(t).collection("orgBoard").get().then((function(e){c=[],e.forEach((function(e){return c.push(e.data())}))}));case 3:return s=[],o=[],u=[],l=[],d=[],e.abrupt("return",new Promise(function(){var e=Object(r.a)(a.a.mark((function e(t,r){var i,h,f,j,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,"hat"!==n.type){e.next=7;break}return e.next=4,Object.entries(c).map((function(e,t){return e[1].id&&e[1].id===n.childOf&&(h=e[1].id),null}));case 4:return e.next=6,Object.entries(c).map((function(e,t){return e[1].childOf===h&&e[1].position>n.position&&e[1].employee&&!e[1].employee.hfa&&(p=e[1].position),null}));case 6:p?Object.entries(c).map((function(e,t){return e[1].childOf===h&&e[1].position>n.position&&e[1].position<p&&s.push(e[1]),null})):Object.entries(c).map((function(e,t){return e[1].childOf===h&&e[1].position>n.position&&s.push(e[1]),null}));case 7:Object.entries(c).map((function(e,t){return e[1].childOf===n.id&&e[1].employee&&!e[1].employee.hfa&&d.push(e[1]),e[1].childOf===n.id&&(!e[1].employee||e[1].employee&&e[1].employee.hfa)&&s.push(e[1]),null})),s.map((function(e){return Object.entries(c).map((function(n,t){return n[1].childOf===e.id&&n[1].employee&&!n[1].employee.hfa&&d.push(n[1]),n[1].childOf===e.id&&(!n[1].employee||n[1].employee&&n[1].employee.hfa)&&o.push(n[1]),null})),null})),o.map((function(e){return Object.entries(c).map((function(n,t){return n[1].childOf===e.id&&n[1].employee&&!n[1].employee.hfa&&d.push(n[1]),n[1].childOf===e.id&&(!n[1].employee||n[1].employee&&n[1].employee.hfa)&&u.push(n[1]),null})),null})),u.map((function(e){return Object.entries(c).map((function(n,t){return n[1].childOf===e.id&&n[1].employee&&!n[1].employee.hfa&&d.push(n[1]),n[1].childOf===e.id&&(!n[1].employee||n[1].employee&&n[1].employee.hfa)&&l.push(n[1]),null})),null})),i?r("something went wrong"):(f=s.concat(n,o,u,l),[],j=[],d&&d.length>0?(Object.entries(c).map((function(e,n){return d.map((function(n){return"hat"===n.type?e[1].childOf===n.childOf&&e[1].position>n.position&&(j.push(e[1].id),f.filter((function(n){return n.id!==e[1].id}))):f.filter((function(n){return n.id!==e[1].id})),null})),null})),b=f.filter((function(e){return-1===j.indexOf(e.id)})),t(b,n)):t(f,n));case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();n.a=s},459:function(e,n,t){"use strict";t(0);var r=t(471),c=t.n(r),a=t(6);n.a=function(){return Object(a.jsx)("div",{className:"spinnerLoader",children:Object(a.jsx)(c.a,{color:"gray"})})}},507:function(e,n,t){"use strict";var r=t(2),c=t(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=t(15),s=function(e,n){return c.createElement(i.a,Object(r.a)(Object(r.a)({},e),{},{ref:n,icon:a}))};s.displayName="CheckOutlined";n.a=c.forwardRef(s)},525:function(e,n,t){"use strict";var r=t(36),c=t(4),a=t(19),i=t.n(a),s=t(0),o=t(20),u=t(34),l=t(779),d=t(686),p=t(279),h=t(479),f=t(543),j=t(532),b=t(218),m=t(443),O=t(6);var x=function(e){return Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(n){return e.pannelOpen(n)},children:e.hats.map((function(n,t){return n.childOf===e.parrent.id?e.pannelRender(n):null}))})})};var y=function(e){return Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(n){return e.pannelOpen(n)},children:e.departments.map((function(n,t){return n.childOf===e.parrent.id?[e.pannelRender(n),e.hats?Object(O.jsx)(x,{hats:e.hats,division:e.division,parrent:n,pannelRender:e.pannelRender,pannelOpen:e.pannelOpen}):null]:null}))})})};var g=function(e){return Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(n){return e.pannelOpen(n)},children:e.divisions.map((function(n,t){return n.childOf===e.parrent.id?[e.pannelRender(n),e.departments?Object(O.jsx)(y,{departments:e.departments,parrent:n,hats:e.hats,pannelRender:e.pannelRender,pannelOpen:e.pannelOpen}):null,e.hats?Object(O.jsx)(x,{hats:e.hats,parrent:n,pannelRender:e.pannelRender,pannelOpen:e.pannelOpen}):null]:e?null:e.panelRender(n)}))})})},v=t(459),k=(t(46),t(629)),w=(t(237),t(781)),C=t(574);var S=function(e){var n=Object(s.useState)(0),t=Object(c.a)(n,2),a=t[0],o=t[1],u=Object(s.useState)(!1),l=Object(c.a)(u,2),d=l[0],f=l[1],j=Object(s.useState)(null),b=Object(c.a)(j,2),m=b[0],x=b[1];return Object(s.useEffect)(Object(r.a)(i.a.mark((function n(){var t,r,c,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,e.references.map((function(n){n.user===e.userInfo.uid&&t.push(n.item.item)}));case 3:return x(t),r=[],c=[],a=[],n.next=9,t.map((function(e){e.references?e.references.map((function(e){r.push(e.name)})):r.push(e.name)}));case 9:r.map((function(e){return c.filter((function(n){return n==e})).length>0?null:c.push(e)})),c.map((function(n){return e.referencesRead.filter((function(e){return e.name==n})).length>0?a.push(n):null})),o(Math.floor(a.length/c.length*100));case 12:case"end":return n.stop()}}),n)}))),[e]),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"hattingSequence",style:"homePage"===e.from?{boxShadow:"0px 0px 15px 0px #888888"}:null,children:Object(O.jsx)(k.a,{percent:a})}),"progressBoard"===e.from&&d||"progressBoard"!==e.from?Object(O.jsxs)("div",{className:"hattingSequence",style:"homePage"===e.from?{boxShadow:"0px 0px 15px 0px #888888"}:null,children:[Object(O.jsx)("br",{}),m?m.map((function(n,t){return n.references?Object(O.jsxs)("div",{className:"hatPackSequence",children:[Object(O.jsxs)("div",{style:{fontSize:"115%",paddingBottom:"15px"},children:[Object(O.jsx)(w.a,{})," ",Object(O.jsx)("b",{children:n.name})]})," ",n.references.map((function(n,t){return Object(O.jsxs)("li",{style:{marginLeft:"2em"},children:[Object(O.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return window.open(n.url,"_blank")},children:n.name}),Object(O.jsx)("span",{style:{float:"right"},children:Object(O.jsx)(p.a,{title:"By checking this box you are attesting that you have read, understand, and can apply this reference",children:Object(O.jsx)(h.a,{onChange:function(t){return e.onCheckChange(t,n)},checked:e.referencesRead.some((function(e){return e.name===n.name}))})})})]},t)}))]}):Object(O.jsxs)("li",{style:{marginLeft:"1em"},children:[Object(O.jsx)(C.a,{})," ",Object(O.jsx)("span",{style:{cursor:"pointer",fontSize:"115%",paddingBottom:"15px"},onClick:function(){return window.open(n.url,"_blank")},children:Object(O.jsx)("b",{children:n.name})}),Object(O.jsx)("span",{style:{float:"right"},children:Object(O.jsx)(p.a,{title:"By checking this box you are attesting that you have read, understand, and can apply this reference",children:Object(O.jsx)(h.a,{onChange:function(t){return e.onCheckChange(t,n)},checked:e.referencesRead.some((function(e){return e.name===n.name}))})})})]},t)})):null,"progressBoard"===e.from?Object(O.jsx)("div",{onClick:function(){return f(!1)},children:"Hide"}):null]}):Object(O.jsx)("div",{onClick:function(){return f(!0)},children:"Show"})]})},P=[],R=[];n.a=function(e){var n=Object(s.useState)([]),t=Object(c.a)(n,2),a=t[0],k=t[1],w=Object(s.useState)([]),C=Object(c.a)(w,2),B=(C[0],C[1],Object(s.useState)("byPost")),L=Object(c.a)(B,2),I=L[0],E=L[1],N=Object(s.useState)(null),D=Object(c.a)(N,2),K=(D[0],D[1]),A=Object(s.useState)(null),H=Object(c.a)(A,2),q=H[0],z=H[1],_=Object(s.useState)(null),M=Object(c.a)(_,2),T=M[0],J=M[1],W=Object(s.useState)(null),G=Object(c.a)(W,2),U=G[0],F=G[1],Q=Object(s.useState)(null),V=Object(c.a)(Q,2),X=V[0],Y=V[1],Z=Object(s.useState)(null),$=Object(c.a)(Z,2),ee=($[0],$[1],Object(s.useState)([])),ne=Object(c.a)(ee,2);ne[0],ne[1],Object(s.useEffect)(Object(r.a)(i.a.mark((function n(){var t,r,c,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e.allPosts),o.b.collection("users").doc(e.dbKey).collection("employees").doc(e.userInfo.uid).get().then((function(e){k(e.data().referencesRead)})),t=[],r=[],c=[],a=[],e.allPosts.forEach((function(n){Object(m.a)(n,e.dbKey).then((function(e){e.map((function(e){return"hat"!==e.type||e.section?"depts"===e.type?r.push(e):"divs"===e.type?c.push(e):"exect"===e.type&&a.push(e):t.push(e),null}))})).then((function(){c.sort((function(e,n){return e.position-n.position})),a.sort((function(e,n){return e.position-n.position})),t.sort((function(e,n){return e.position-n.position})),z(t),Y(r),F(c),J(a)})).then((function(){E("notByPost")}))}));case 7:case"end":return n.stop()}}),n)}))),[e]);var te=function(n,t){if(n.target.checked){t.completeDate=new u.a.firestore.Timestamp.now;var r=a.concat(t);k(r),o.b.collection("users").doc(e.dbKey).collection("employees").doc(e.userInfo.uid).update({referencesRead:r})}else{var c=a.filter((function(e){return e.name!==t.name}));k(c),o.b.collection("users").doc(e.dbKey).collection("employees").doc(e.userInfo.uid).update({referencesRead:c})}},re=l.a.Panel,ce=function(n){n.hatPacks.length&&n.hatPacks.map((function(n){(P=P.concat({user:e.userInfo.uid,item:n})).length&&P.map((function(n){return R.filter((function(e){return e.item.item.name==n.item.name&&e.user==n.user})).length>0?null:R.push({item:n,user:e.userInfo.uid})}))})),n.references.length&&n.references.map((function(n){(P=P.concat({user:e.userInfo.uid,item:n})).length&&P.map((function(n){return R.filter((function(e){return e.item.item.name==n.item.name&&e.user==n.user})).length>0?null:R.push({item:n,user:e.userInfo.uid})}))}))},ae=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{orientation:"left",children:"Hat Packs"}),e.hatPacks.map((function(e,n){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{marginLeft:"1em"},children:Object(O.jsx)("b",{children:e.name})},n),e.references.map((function(e,n){return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{style:{cursor:"pointer",marginLeft:"3em"},onClick:function(){return window.open(e.url,"_blank")},children:[Object(O.jsx)("i",{children:e.name}),Object(O.jsx)("span",{style:{float:"right"},children:Object(O.jsx)(p.a,{title:"By checking this box you are attesting that you have read, understand, and can apply this reference",children:Object(O.jsx)(h.a,{onChange:function(n){return te(n,e)},checked:a.some((function(n){return n.name===e.name}))})})})]},n)})}))]})})),Object(O.jsx)("br",{}),Object(O.jsx)(d.a,{orientation:"left",children:"Individual References"}),e.references.map((function(e,n){return Object(O.jsx)("div",{onClick:function(){return console.log(e)},children:Object(O.jsxs)("div",{style:{marginLeft:"3em"},children:[Object(O.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return window.open(e.url,"_blank")},children:e.name}),Object(O.jsx)("span",{style:{float:"right"},children:Object(O.jsx)(p.a,{title:"By checking this box you are attesting that you have read, understand, and can apply this reference",children:Object(O.jsx)(h.a,{onChange:function(n){return te(n,e)},checked:a.some((function(n){return n.name===e.name}))})})})]},n)})}))]})},ie=function(e,n){if(e.hatPacks&&e.hatPacks.length||e.references&&e.references.length)return Object(O.jsxs)(re,{showArrow:!1,header:Object(O.jsx)("b",{style:{fontSize:"115%"},children:e.post}),children:[ce(e),ae(e)]},n)},se=function(e){K(e)},oe={display:"block",height:"30px",lineHeight:"30px",fontWeight:"bold",color:"#dddddd"};return Object(O.jsxs)("div",{style:{marginTop:"2em"},children:["homePage"===e.from||"progressBoard"===e.from?null:Object(O.jsxs)("div",{style:{marginLeft:"2em"},children:[Object(O.jsxs)(f.a.Group,{onChange:function(e){return function(e){E(e.target.value)}(e)},value:I,children:[Object(O.jsx)(f.a,{style:oe,value:"notByPost",children:"My Hatting Sequence"}),Object(O.jsx)(f.a,{style:oe,value:"byPost",children:"Hatting By Post"})]}),Object(O.jsx)("hr",{})]}),"byPost"===I?Object(O.jsx)(j.a,{justify:"center",children:Object(O.jsx)(b.a,{span:12,className:"hattingSequence",children:e.allPosts?e.allPosts.map((function(e){return function(e){switch(e.type){case"owner":case"divs":return[Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(e){return K(e)},children:U?U.map((function(n,t){return[ie(n,t+10),X?Object(O.jsx)(y,{divisions:U,parrent:n,departments:X,hats:q,post:e,pannelRender:ie,pannelOpen:se}):null,q?Object(O.jsx)(x,{divisions:U,parrent:n,departments:X,hats:q,post:e,pannelRender:ie,pannelOpen:se}):null]})):Object(O.jsx)(v.a,{text:"Loading Divisions"})})},e.post)];case"ed":return[Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(e){return K(e)},children:ie(e,-1)},e.id),T&&T.length>0?Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(e){return K(e)},children:T.map((function(n,t){return[ie(n,t+10),U?Object(O.jsx)(g,{divisions:U,parrent:n,departments:X,hats:q,post:e,pannelRender:ie,pannelOpen:se}):null]}))})},e.post):null];case"exect":return[Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(e){return K(e)},children:T?T.map((function(n,t){return[ie(n,t+10),U?Object(O.jsx)(g,{divisions:U,parrent:n,departments:X,hats:q,post:e,pannelRender:ie,pannelOpen:se}):null]})):Object(O.jsx)(v.a,{text:"Loading Executives"})})},e.post)];case"depts":return[Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(e){return K(e)},children:X?X.map((function(n,t){return[ie(n,t+10),q?Object(O.jsx)(x,{divisions:U,parrent:n,departments:X,hats:q,post:e,pannelRender:ie,pannelOpen:se}):null]})):Object(O.jsx)(v.a,{text:"Loading Departments"})})},e.post)];case"hat":return Object(O.jsx)("div",{style:{marginLeft:"2em"},children:Object(O.jsx)(l.a,{bordered:!1,accordion:!0,onChange:function(e){return K(e)},children:q?q.map((function(n,t){if("hat"===e.type&&n.childOf===e.childOf)return ie(n,t+10)})):Object(O.jsx)(v.a,{text:"Loading Departments"})})},e.post);default:return Object(O.jsx)("h3",{children:"No Posts Assigned"})}}(e)})):Object(O.jsx)("div",{children:"No Posts Assigned"})})}):Object(O.jsx)(j.a,{justify:"center",children:Object(O.jsx)(b.a,{span:"homePage"!==e.from?12:24,children:Object(O.jsx)(S,{references:R,userInfo:e.userInfo,referencesRead:a,onCheckChange:te,from:e.from})})})]})}},791:function(e,n,t){"use strict";t.r(n);var r=t(4),c=t(0),a=t(20),i=t(46),s=t(36),o=t(19),u=t.n(o),l=(t(34),t(779),t(686),t(279),t(479),t(543),t(532),t(218),t(443),t(6));t(459),t(629),t(237),t(781),t(574);var d=t(525);var p=function(e){var n=Object(c.useState)(null),t=Object(r.a)(n,2),o=(t[0],t[1],Object(c.useState)(null)),p=Object(r.a)(o,2),h=p[0],f=p[1],j=Object(c.useContext)(i.a).dbKey;return Object(c.useEffect)(Object(s.a)(u.a.mark((function n(){var t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!j){n.next=4;break}return t=[],n.next=4,a.b.collection("users").doc(j).collection("orgBoard").where("employee.uid","==",e.employee.uid).where("employee.hfa","==",!1).onSnapshot((function(n){n.docs.forEach((function(e,n){t.push(e.data())})),a.b.collection("users").doc(j).collection("orgBoard").where("multiEmployeeArr","array-contains",{name:e.employee.name,uid:e.employee.uid}).get().then((function(e){e.docs.forEach((function(e,n){t.push(e.data())})),f(t)}))}));case 4:case"end":return n.stop()}}),n)}))),[j,e]),Object(l.jsxs)("div",{className:"progressBoard",children:[Object(l.jsx)("div",{style:{textAlign:"center"},children:Object(l.jsxs)("b",{children:[e.employee.name,": "]})}),h?Object(l.jsxs)("div",{children:[Object(l.jsx)(d.a,{allPosts:h,dbKey:j,userInfo:e.employee,from:"progressBoard"}),Object(l.jsx)("hr",{})]}):Object(l.jsx)("div",{style:{margin:"5em",textAlign:"center"},children:Object(l.jsxs)("h3",{style:{color:"#dddddd"},children:["No posts are assigned to ",e.employee.name]})})]})};n.default=function(e){var n=Object(c.useState)(null),t=Object(r.a)(n,2),s=t[0],o=t[1],u=Object(c.useContext)(i.a),d=u.dbKey;return u.userInfo,u.currentUser,Object(c.useEffect)((function(){if(d){var e=[];a.b.collection("users").doc(d).collection("employees").get().then((function(n){n.forEach((function(n){"kiosk"!==n.data().id&&e.push(n.data())})),o(e)}))}}),[d]),Object(l.jsx)("div",{className:"progressBoardWrapper",style:{color:"#DDDDDD",marginTop:"3em"},children:s?s.map((function(e){return Object(l.jsx)("div",{children:Object(l.jsx)(p,{employee:e})})})):null})}}}]);
//# sourceMappingURL=26.35734426.chunk.js.map