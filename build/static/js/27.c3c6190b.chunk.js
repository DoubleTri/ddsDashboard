(this["webpackJsonpmy-ap"]=this["webpackJsonpmy-ap"]||[]).push([[27],{334:function(e,t,c){"use strict";var n="abcdefghijklmnopqrstuvwxyz",o="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="0123456789",i="~!@#$%^&()_+-={}[];',";t.a=function(e,t){e||(e=30),t||(t="aA0");var c="";t.split("").forEach((function(e){isNaN(parseInt(e))?/[a-z]/.test(e)?c+=n:/[A-Z]/.test(e)?c+=o:c+=i:c+=s}));for(var r="",l=0;l<e;l++)r+=c.charAt(Math.floor(Math.random()*c.length));return r}},534:function(e,t,c){"use strict";var n=c(2),o=c(4),s=c(0),i=c(20),r=c(570),l=c(789),a=c(60),d=c(782),j=c(573),b=c(334),u=c(6),h={labelCol:{span:5},wrapperCol:{span:18}},m={labelCol:{span:5},wrapperCol:{span:18}},O={wrapperCol:{span:18,offset:5}},x={required:"${label} is required"};t.a=function(e){var t=r.a.useForm(),c=Object(o.a)(t,1)[0],g=Object(s.useState)(!1),p=Object(o.a)(g,2),f=p[0],y=p[1],k=Object(s.useState)(!1),C=Object(o.a)(k,2),D=C[0],v=C[1];return Object(s.useEffect)((function(){e.node&&c.setFieldsValue({description:e.node.post,functions:e.node.functions})}),[]),Object(u.jsxs)("div",{className:"sectionsForm",children:[Object(u.jsx)("h3",{children:"Sections"}),Object(u.jsxs)(r.a,Object(n.a)(Object(n.a)({},h),{},{form:c,name:"nest-messages",onFinish:e.node?function(t){y(!0),i.b.collection("users").doc(e.dbKey).collection("orgBoard").doc(e.node.id).update({post:t.description,functions:t.functions}).then((function(){e.setNewSectionModal(!1),y(!1)}))}:function(t){var n=Object(b.a)(10,"aA0");i.b.collection("users").doc(e.dbKey).collection("orgBoard").doc(n).set({post:t.description,type:"hat",section:!0,functions:t.functions?t.functions:null,childOf:null,position:null,id:n,purpose:null,product:null,statIdArr:[],hatWriteUp:""}).then((function(){e.setNewSectionModal(!1),y(!1),c.resetFields()}))},validateMessages:x,requiredMark:!1,children:[Object(u.jsx)(r.a.Item,{name:"description",label:"Description",rules:[{required:!0,max:55}],children:Object(u.jsx)(l.a,{})}),Object(u.jsx)(r.a.List,{name:"functions",children:function(e,t,c){var o=t.add,i=t.remove,b=c.errors;return Object(u.jsxs)(u.Fragment,{children:[e.map((function(t,c){return Object(s.createElement)(r.a.Item,Object(n.a)(Object(n.a)({},0===c?m:O),{},{label:0===c?"Functions":"",required:!1,key:t.key}),Object(u.jsx)(r.a.Item,Object(n.a)(Object(n.a)({},t),{},{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input a function or delete this field."}],noStyle:!0,children:Object(u.jsx)(l.a,{placeholder:"Function",style:{width:"80%"}})})),e.length>0?Object(u.jsx)(d.a,{className:"dynamic-delete-button",onClick:function(){return i(t.name)}}):null)})),Object(u.jsxs)(r.a.Item,{wrapperCol:Object(n.a)(Object(n.a)({},h.wrapperCol),{},{offset:5}),children:[Object(u.jsx)(a.a,{type:"dashed",onClick:function(){return o()},style:{width:"60%"},icon:Object(u.jsx)(j.a,{}),children:"Add Function"}),Object(u.jsx)(r.a.ErrorList,{errors:b})]})]})}}),Object(u.jsx)(r.a.Item,{wrapperCol:Object(n.a)({},h.wrapperCol),children:Object(u.jsx)(a.a,{type:"primary",htmlType:"submit",loading:f,onClick:function(){return y(!0)},children:"Submit"})}),e.node?Object(u.jsxs)("div",{children:[Object(u.jsx)(a.a,{onClick:function(){console.log(e.node),i.b.collection("users").doc(e.dbKey).collection("orgBoard").doc(e.node.id).update({childOf:null}).then((function(){e.setNewSectionModal(!1)}))},children:"Remove From Org Board"}),Object(u.jsx)(a.a,{onClick:function(){v(!0),i.b.collection("users").doc(e.dbKey).collection("orgBoard").doc(e.node.id).delete().then((function(){e.setNewSectionModal(!1)})).then((function(){v(!1),c.resetFields()}))},loading:D,children:"Delete"})]}):null]}))]})}},792:function(e,t,c){"use strict";c.r(t);var n=c(4),o=c(0),s=c(13),i=c(89),r=c(46),l=c(784),a=c(796),d=c(803),j=c.p+"static/media/IMG_0251.dd01b811.PNG",b=c(20),u=c(802),h=c(106),m=c(6),O={beginDrag:function(e){return e.onClose(),e},endDrag:function(e,t,c){t.didDrop()?console.log("drag ended, correct target "):console.log("wrong target")}};var x=Object(h.DragSource)("hatTarget",O,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),didDrop:t.didDrop()}}))((function(e){var t=e.isDragging?0:1;return(0,e.connectDragSource)(Object(m.jsx)("div",{className:"dragHat",style:{opacity:t},children:e.item.name}))}));var g=function(e){var t=Object(o.useState)(null),c=Object(n.a)(t,2),s=c[0],l=c[1],a=Object(o.useContext)(r.a).dbKey;return Object(o.useEffect)((function(){var e=[];a&&b.b.collection("users").doc(a).collection("employees").get().then((function(t){t.forEach((function(t){e.push(t.data())}))})).then((function(){l(e)}))}),[a]),Object(m.jsxs)("div",{className:"Employees",children:[Object(m.jsxs)("p",{children:[" ",Object(m.jsx)("b",{children:"Employees"})," ",Object(m.jsx)(i.b,{className:"linkText",to:"/add-employee",onClick:e.onClose,children:Object(m.jsx)(u.a,{})})]}),s?s.map((function(t,c){if("kiosk"!==t.id)return Object(m.jsx)("div",{children:Object(m.jsx)(x,{item:t,onClose:e.onClose,admin:!0,dbKey:a})},c)})):"loading..."]})},p=c(36),f=c(19),y=c.n(f),k=c(789),C=c(219),D=c(334),v=c(534),N={beginDrag:function(e){return e.onClose(),e},endDrag:function(e,t,c){t.didDrop()?console.log("drag ended, correct target "):console.log("wrong target")}};var w=Object(h.DragSource)("hat",N,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),didDrop:t.didDrop()}}))((function(e){var t=Object(o.useState)(!1),c=Object(n.a)(t,2),s=c[0],r=c[1],l=Object(o.useState)(!1),a=Object(n.a)(l,2),d=a[0],j=a[1],b=e.isDragging,u=e.connectDragSource,h=b?0:1;return u(Object(m.jsxs)("div",{className:"dragHat",style:{opacity:h},children:[e.item.section?Object(m.jsx)("div",{id:"hatLink",onClick:function(){return t=e.item,j(t),void r(!0);var t},className:"linkText",children:e.item.post}):Object(m.jsx)(i.b,{id:"hatLink",onClick:e.onClose,className:"linkText",to:"/post/".concat(e.item.id),children:e.item.post}),d?Object(m.jsx)(C.a,{visible:s,onCancel:function(){return r(!1)},footer:null,children:Object(m.jsx)(v.a,{setNewSectionModal:r,node:d,dbKey:e.dbKey})}):null]}))})),T=k.a.Search;var S=Object(s.h)((function(e){var t=Object(o.useState)(null),c=Object(n.a)(t,2),s=c[0],i=c[1],l=Object(o.useState)(!1),a=Object(n.a)(l,2),d=a[0],j=a[1],h=Object(o.useState)(!1),O=Object(n.a)(h,2),x=O[0],g=O[1],f=Object(o.useState)(null),k=Object(n.a)(f,2),N=k[0],S=k[1],B=Object(o.useState)(!1),M=Object(n.a)(B,2),H=M[0],F=M[1],I=Object(o.useContext)(r.a).dbKey;return Object(o.useEffect)((function(){I&&b.b.collection("users").doc(I).collection("orgBoard").onSnapshot(function(){var e=Object(p.a)(y.a.mark((function e(t){var c,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],n=[],e.next=4,t.forEach((function(e){e.data().childOf||"hat"!==e.data().type||e.data().section||c.push(e.data()),!e.data().childOf&&e.data().section&&(console.log(e.data()),n.push(e.data()))}));case 4:S(n),i(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[I]),Object(m.jsxs)("div",{className:"Posts",children:[Object(m.jsxs)("p",{children:[" ",Object(m.jsx)("b",{children:"Posts"})," ",Object(m.jsx)("span",{className:"linkText",onClick:function(){return j(!0)},children:Object(m.jsx)(u.a,{})})]}),s?s.map((function(t,c){return Object(m.jsx)("div",{children:Object(m.jsx)(w,{item:t,onClose:e.onClose,admin:!0})},c)})):"loading...",Object(m.jsxs)("p",{children:[" ",Object(m.jsx)("b",{children:"Sections"})," ",Object(m.jsx)("span",{className:"linkText",onClick:function(){return F(!0)},children:Object(m.jsx)(u.a,{})})]}),s?N.map((function(t,c){return Object(m.jsx)("div",{children:Object(m.jsx)(w,{item:t,onClose:e.onClose,admin:!0,dbKey:I})},c)})):"loading...",Object(m.jsxs)(C.a,{visible:d,onCancel:function(){return j(!1)},footer:null,children:[Object(m.jsx)("b",{children:"Name Your New Post"}),Object(m.jsx)("div",{children:Object(m.jsx)(T,{placeholder:"Post Name",allowClear:!0,enterButton:"Submit",size:"large",loading:x,onSearch:function(t){return function(t){if(t){g(!0);var c=Object(D.a)(10,"aA0");b.b.collection("users").doc(I).collection("orgBoard").doc(c).set({post:t,type:"hat",childOf:null,position:null,hatPacks:[],references:[],id:c,purpose:null,product:null,statIdArr:[],hatWriteUp:""}).then((function(){j(!1),e.onClose(),e.history.push("/post/".concat(c))})).then((function(){g(!1)}))}}(t)}})})]}),Object(m.jsx)(C.a,{visible:H,onCancel:function(){return F(!1)},footer:null,children:Object(m.jsx)(v.a,{setNewSectionModal:F,dbKey:I})})]})}));t.default=function(){Object(s.g)();var e=Object(o.useState)(!1),t=Object(n.a)(e,2),c=t[0],b=t[1],u=Object(o.useState)(null),h=Object(n.a)(u,2),O=h[0],x=h[1],p=Object(o.useContext)(r.a),f=p.logout,y=p.dbKey,k=p.userInfo;Object(o.useEffect)((function(){x(window.location.pathname)}),[window.location.pathname,y]);var C=function(){b(!1)},D=l.a.Header;return Object(m.jsxs)(l.a,{style:{backgroundColor:"#484848"},children:[k&&k.kiosk?Object(m.jsxs)(D,{style:{backgroundColor:"#484848",textAlign:"center",color:"#DDDDDD"},children:[Object(m.jsx)("img",{style:{marginTop:"1em",marginBottom:"1em"},alt:"logo",width:"300",height:"75",src:j}),Object(m.jsx)("hr",{style:{marginTop:"-1em",marginBottom:"-1em",width:"50%",color:"#c9c9c9"}}),Object(m.jsxs)("div",{style:{display:"inline-flex",marginBottom:"1em"},children:[Object(m.jsx)(i.b,{style:{margin:"-5em 4em 0em 4em"},onClick:C,className:"linkText",to:"/org-board",children:Object(m.jsx)("h2",{className:"linkText",style:{color:"#c9c9c9"},children:"Org Board"})}),Object(m.jsx)(i.b,{style:{margin:"-5em 4em 0em 4em"},onClick:C,className:"linkText",to:"/oic",children:Object(m.jsx)("h2",{className:"linkText",style:{color:"#c9c9c9"},children:"OIC"})}),Object(m.jsx)(i.b,{style:{margin:"-5em 4em 0em 4em"},onClick:C,className:"linkText",to:"/flow-charts",children:Object(m.jsx)("h2",{className:"linkText",style:{color:"#c9c9c9"},children:"Flow Charts"})})]})]}):"/"===O?Object(m.jsxs)("div",{style:{textAlign:"center",color:"#DDDDDD",fontFamily:"Montserrat, sans-serif"},children:[Object(m.jsx)("img",{style:{marginTop:"1em",marginBottom:"1em"},alt:"logo",width:"300",height:"75",src:j}),Object(m.jsx)("hr",{style:{marginTop:"-1em",width:"80%",color:"#c9c9c9"}}),Object(m.jsxs)("div",{style:{display:"inline-flex"},children:[Object(m.jsx)(i.b,{style:{margin:"0em 4em 0em 4em"},onClick:C,className:"linkTextHeader",to:"/org-board",children:Object(m.jsx)("h2",{style:{color:"#c9c9c9"},children:"Org Board"})}),Object(m.jsx)(i.b,{style:{margin:"0em 4em 0em 4em"},onClick:C,className:"linkTextHeader",to:"/flow-charts",children:Object(m.jsx)("h2",{style:{color:"#c9c9c9"},children:"Flow Charts"})}),Object(m.jsx)(i.b,{style:{margin:"0em 4em 0em 4em"},onClick:C,className:"linkTextHeader",to:"/stat-submission",children:Object(m.jsx)("h2",{style:{color:"#c9c9c9"},children:"Stats"})}),Object(m.jsx)(i.b,{style:{margin:"0em 4em 0em 4em"},onClick:C,className:"linkTextHeader",to:"/oic",children:Object(m.jsx)("h2",{style:{color:"#c9c9c9"},children:"OIC"})}),Object(m.jsx)(i.b,{style:{margin:"0em 4em 0em 4em"},onClick:C,className:"linkTextHeader",to:"/hatting-material/references",children:Object(m.jsx)("h2",{style:{color:"#c9c9c9"},children:"Hatting Material"})}),Object(m.jsx)(i.b,{style:{margin:"0em 4em 0em 4em"},onClick:C,className:"linkTextHeader",to:"/hatting",children:Object(m.jsx)("h2",{style:{color:"#c9c9c9"},children:"My Hatting"})}),Object(m.jsx)(i.b,{style:{margin:"0em 4em 0em 4em"},onClick:C,className:"linkTextHeader",to:"/progress-board",children:Object(m.jsx)("h2",{style:{color:"#c9c9c9"},children:"Progress Board"})})]})]}):Object(m.jsxs)(D,{style:{backgroundColor:"#484848",textAlign:"center",color:"#DDDDDD"},className:"header",id:"/org-board"===O?"orgBoardHeader":null,children:[k?Object(m.jsxs)("span",{style:{float:"left",fontSize:"115%"},onClick:function(){b(!0)},children:[Object(m.jsx)("b",{children:"Menu"})," ",Object(m.jsx)(d.a,{})]}):null,k?Object(m.jsx)("span",{style:{float:"Right"},children:Object(m.jsx)("b",{children:k.name})}):null,k?Object(m.jsxs)("div",{style:{marginTop:"1em",marginBottom:"1em"},children:[Object(m.jsx)("img",{alt:"logo",width:"300",height:"75",src:j}),Object(m.jsx)("p",{style:{marginTop:"-2em"},children:Object(m.jsx)("h1",{style:{color:"#DDDDDD"},children:y})})]}):Object(m.jsxs)("div",{style:{marginTop:"1em",marginBottom:"1em"},children:[Object(m.jsx)("img",{alt:"logo",width:"300",height:"75",src:j}),Object(m.jsx)("p",{style:{marginTop:"-2em"},children:Object(m.jsx)("h1",{style:{color:"#DDDDDD"},children:"Management Dashboard"})})]})]}),Object(m.jsxs)(a.a,{title:"Menu",placement:"left",closable:!1,onClose:C,visible:c,children:[Object(m.jsx)("p",{onClick:function(){f(),b(!1)},children:"Log Out"}),Object(m.jsx)("hr",{}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/",children:"Home"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/org-board",children:"Org Board"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/flow-charts",children:"Flow Charts"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/stat-submission",children:"Stats"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/quota-graph-settings",children:"Quota Graphs"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/oic",children:"OIC"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/hatting-material/references",children:"Hatting Material"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/hatting",children:"My Hatting"})}),Object(m.jsx)("p",{children:Object(m.jsx)(i.b,{onClick:C,className:"linkText",to:"/progress-board",children:"Progress Board"})}),"/org-board"===O&&k&&k.admin?Object(m.jsxs)("div",{children:[Object(m.jsx)(g,{onClose:C}),Object(m.jsx)("hr",{}),Object(m.jsx)(S,{onClose:C})]}):null]})]})}}}]);
//# sourceMappingURL=27.c3c6190b.chunk.js.map