(this["webpackJsonpmy-ap"]=this["webpackJsonpmy-ap"]||[]).push([[6],{152:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s}));var a=n(34),c=(n(205),n(213),n(214),n(215),a.a.initializeApp({apiKey:"AIzaSyDwvSq9PggZ8D0WVEXcoRqh81KMWsHC-Lo",authDomain:"ddsdashboard-66cc9.firebaseapp.com",projectId:"ddsdashboard-66cc9",storageBucket:"ddsdashboard-66cc9.appspot.com",messagingSenderId:"1073517353467",appId:"1:1073517353467:web:4740b158e495f9d14b135e",measurementId:"G-SSGH2NDCX7"}),a.a.functions()),o=a.a.auth(),r=a.a.firestore(),s=a.a.storage()},211:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(26),o=n.n(c),r=(n(152),n(2)),s=n(4),l=n(139),i=n.n(l),u=n(106),d=n(218),b=n(219),j=n(60),h=n(46),O=n(20),p=(n(34),n(89)),f=n(13),m=n(18),x=n(6),g=["component"],y=["component"],S=function(e){var t=e.component,n=Object(m.a)(e,g),c=Object(a.useContext)(h.a).currentUser;return Object(x.jsx)(f.b,Object(r.a)(Object(r.a)({},n),{},{render:function(e){return c?Object(x.jsx)(t,Object(r.a)({},e)):Object(x.jsx)(f.a,{to:"/login"})}}))},w=function(e){var t=e.component,n=Object(m.a)(e,y),c=Object(a.useContext)(h.a).currentUser;return Object(x.jsx)(f.b,Object(r.a)(Object(r.a)({},n),{},{render:function(e){return c?Object(x.jsx)(f.a,{to:"/"}):Object(x.jsx)(t,Object(r.a)({},e))}}))},v=(n(211),Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(10)]).then(n.bind(null,797))}))),C=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,788))})),D=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(17)]).then(n.bind(null,793))})),k=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,799))})),M=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(20),n.e(30)]).then(n.bind(null,794))})),P=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(18)]).then(n.bind(null,787))})),z=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(15)]).then(n.bind(null,800))})),I=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(23)]).then(n.bind(null,783))})),N=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(8)]).then(n.bind(null,790))})),A=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(22)]).then(n.bind(null,801))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(5),n.e(25)]).then(n.bind(null,575))})),F=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(5),n.e(26)]).then(n.bind(null,791))})),B=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,630))})),K=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(24)]).then(n.bind(null,795))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(21)]).then(n.bind(null,786))})),Y=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(19),n.e(27)]).then(n.bind(null,792))})),G=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(14),n.e(28)]).then(n.bind(null,798))})),H=Object(a.lazy)((function(){return n.e(29).then(n.bind(null,785))})),R=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(16)]).then(n.bind(null,440))}));var T=Object(u.DragDropContext)(i.a)((function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(a.useState)(!1),g=Object(s.a)(m,2),y=g[0],T=g[1];Object(a.useEffect)((function(){O.a.onAuthStateChanged((function(e){u(e),c(!1)}))}),[]);var W=Object(x.jsx)("h2",{style:{textAlign:"center",marginTop:"15em"},children:"Loading Component"});return Object(x.jsx)(h.b,{children:Object(x.jsx)(a.Suspense,{fallback:Object(x.jsx)("div",{children:W}),children:Object(x.jsx)(p.a,{children:Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)(Y,{}),n?Object(x.jsx)("div",{children:W}):Object(x.jsxs)(f.d,{children:[Object(x.jsx)(S,{exact:!0,path:"/",component:i&&"kiosk"===i.displayName?C:v}),Object(x.jsx)(S,{exact:!0,path:"/org-board",component:C}),Object(x.jsx)(S,{exact:!0,path:"/OIC",component:k}),Object(x.jsx)(S,{exact:!0,path:"/stat-groups",component:M}),Object(x.jsx)(S,{exact:!0,path:"/quota-graph-settings",component:z}),Object(x.jsx)(S,{exact:!0,path:"/hatting-material/:location",component:D}),Object(x.jsx)(S,{exact:!0,path:"/flow-charts",component:P}),Object(x.jsx)(S,{exact:!0,path:"/flow-charts/:flowChartId",component:P}),Object(x.jsx)(S,{exact:!0,path:"/add-employee",component:I}),Object(x.jsx)(S,{exact:!0,path:"/post",component:N}),Object(x.jsx)(S,{exact:!0,path:"/post/:postId",component:N}),Object(x.jsx)(S,{exact:!0,path:"/employee/:uid",component:A}),Object(x.jsx)(S,{exact:!0,path:"/stat-submission",component:B}),Object(x.jsx)(S,{exact:!0,path:"/hatting",component:E}),Object(x.jsx)(S,{exact:!0,path:"/progress-board",component:F}),Object(x.jsx)(S,{exact:!0,path:"/test",component:R}),Object(x.jsx)(S,{exact:!0,path:"/management-dashboard",component:G}),Object(x.jsx)(w,{exact:!0,path:"/login",component:K}),Object(x.jsx)(w,{exact:!0,path:"/create-account",component:L}),Object(x.jsx)(f.b,{render:function(e){return Object(x.jsx)(H,Object(r.a)({},e))}})]}),Object(x.jsxs)(d.a,{span:24,className:"footer",style:{color:"#dddddd",textAlign:"center",marginTop:"2em",paddingBottom:"2em"},children:["Based on the works of L. Ron Hubbard and powered by The Hubbard\xae Management System ",Object(x.jsx)("span",{onClick:function(){return T(!0)},children:Object(x.jsx)("u",{children:"Copyright-Trademark Info"})})]}),Object(x.jsxs)(b.a,{title:"Copyright-Trademark Information",visible:y,closable:!1,footer:null,children:[Object(x.jsx)("p",{children:"\xae 2021 DDS Dashboard. All Rights Reserved."}),Object(x.jsx)("p",{children:"DDS Dashboard logo is a trademark owned by DDS Dashboard LLC."}),Object(x.jsx)("p",{children:"All material available in this software application is protected by copyright laws and international copyright treaty provisions.  Users are not authorized to download or transmit any of these materials electronically, or to otherwise reproduce any of the material in any form or by any means, electronic or mechanical, including data storage and retrieval systems, recording, printing or photocopying."}),Object(x.jsx)("p",{children:"Grateful acknowledgment is made to L. Ron Hubbard Library for permission to reproduce selections from the copyrighted works of L. Ron Hubbard. "}),Object(x.jsx)("p",{children:"HUBBARD is a trademark and is used pursuant to a licensing agreement."}),Object(x.jsx)("p",{children:"IA # ...."}),Object(x.jsx)("br",{}),Object(x.jsx)(j.a,{onClick:function(){return T(!1)},children:"Close"})]})]})})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(x.jsx)(T,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return C}));var a=n(5),c=n(36),o=n(4),r=n(19),s=n.n(r),l=n(0),i=n.n(l),u=n(20),d=n(219),b=n(34),j=n(144),h=n(60),O=n(68),p=n.n(O),f=n(91),m=n.n(f),x=(n(146),n(6)),g=new Date,y=g.getMonth(),S=g.getFullYear();var w=function(e){var t=Object(l.useState)([]),n=Object(o.a)(t,2),a=n[0],c=n[1],r=Object(l.useState)(null),s=Object(o.a)(r,2),i=s[0],d=s[1],O=Object(l.useState)(null),g=Object(o.a)(O,2),w=(g[0],g[1]),v=Object(l.useState)(null),C=Object(o.a)(v,2),D=C[0],k=C[1],M=Object(l.useState)(null),P=Object(o.a)(M,2);return P[0],P[1],Object(l.useEffect)((function(){d(new Date(S,y+1)),w(new Date(S,y)),u.b.collection("users").doc(e.dbKey).get().then((function(e){k(e.data().lastWeekEnding)}))}),[]),b.a.auth().useEmulator("http://localhost:9099/"),u.c.useEmulator("localhost",5001),Object(x.jsxs)("div",{className:"nextMonthModal",children:[Object(x.jsx)("div",{style:{textAlign:"center"},children:Object(x.jsx)("h2",{children:"Please Select Next Month's Work Days"})}),Object(x.jsx)("div",{style:{margin:"0 auto",display:"table"},children:Object(x.jsx)(m.a,{selectedDays:a,onDayClick:function(e,t){var n=t.selected,o=a.concat();if(n){var r=o.findIndex((function(t){return f.DateUtils.isSameDay(t,e)}));o.splice(r,1)}else o.push(e);o.sort((function(e,t){return new Date(e)-new Date(t)})),c(o)},canChangeMonth:!1,month:i})}),Object(x.jsx)(h.a,{onClick:function(){return function(){if(a.length){var t=p()(i).format("MMMMYYYY");u.b.collection("users").doc(e.dbKey).collection("quotaGraphs").doc(t).set({current:!1,id:t,month:p()(i).format("MMMM"),workingDays:a}),u.b.collection("users").doc(e.dbKey).update({setNextMonth:!1}),e.setNextMonthModal(!1);var n=[];a.forEach((function(e){n.push(Date.parse(e))})),b.a.functions().httpsCallable("monthEndingFunction")({dbKey:e.dbKey,workDays:n,lastWeekEnding:D,month:Date.parse(p()(i).format("MMMMYYYY"))})}else j.b.error("Some days must be selected")}()},children:"Submit"})]})},v=i.a.createContext(),C=function(e){var t,n=e.children,r=Object(l.useState)(null),i=Object(o.a)(r,2),b=i[0],j=i[1],h=Object(l.useState)(null),O=Object(o.a)(h,2),p=O[0],f=O[1],m=Object(l.useState)(null),g=Object(o.a)(m,2),y=g[0],S=g[1],C=Object(l.useState)(null),D=Object(o.a)(C,2),k=D[0],M=D[1],P=Object(l.useState)(null),z=Object(o.a)(P,2),I=z[0],N=z[1],A=Object(l.useState)(null),E=Object(o.a)(A,2),F=E[0],B=E[1],K=Object(l.useState)(null),L=Object(o.a)(K,2),Y=L[0],G=L[1],H=Object(l.useState)(null),R=Object(o.a)(H,2),T=R[0],W=R[1],U=Object(l.useState)(null),q=Object(o.a)(U,2),J=q[0],X=q[1],V=Object(l.useState)([]),Z=Object(o.a)(V,2),$=Z[0],Q=Z[1],_=Object(l.useState)(null),ee=Object(o.a)(_,2),te=ee[0],ne=ee[1],ae=Object(l.useState)(null),ce=Object(o.a)(ae,2),oe=ce[0],re=ce[1],se=Object(l.useState)(null),le=Object(o.a)(se,2),ie=le[0],ue=le[1],de=Object(l.useState)([]),be=Object(o.a)(de,2),je=be[0],he=(be[1],Object(l.useState)(null)),Oe=Object(o.a)(he,2),pe=Oe[0],fe=(Oe[1],Object(l.useState)(null)),me=Object(o.a)(fe,2),xe=me[0],ge=me[1],ye=Object(l.useState)(null),Se=Object(o.a)(ye,2),we=Se[0],ve=Se[1],Ce=Object(l.useState)(!1),De=Object(o.a)(Ce,2),ke=De[0],Me=De[1],Pe=Object(l.useState)(!1),ze=Object(o.a)(Pe,2),Ie=ze[0],Ne=ze[1];Object(l.useEffect)((function(){u.a.onAuthStateChanged(j)}),[]),Object(l.useEffect)((function(){b&&u.b.collection("users").where("uid","array-contains",b.uid).onSnapshot((function(e){e.docs[0].data().managementDashboard&&(Ne(!0),console.log(e.docs[0].data().managementDashboard)),S(e.docs[0].id),u.b.collection("users").doc(e.docs[0].id).collection("employees").doc(b.uid).get().then((function(e){f(e.data())})),u.b.collection("users").doc(e.docs[0].id).collection("statGroup").doc("All Stats").get().then((function(e){M(e.data())})),u.b.collection("users").doc(e.docs[0].id).collection("notes").onSnapshot(function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.forEach((function(e){n.push(e.data())}));case 3:ge(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u.b.collection("users").doc(e.docs[0].id).collection("orgBoard").onSnapshot(function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.docs.map((function(e){n.push(e.data())}));case 3:ve(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u.b.collection("users").doc(e.docs[0].id).collection("hattingMaterial").doc("hattingMaterial").onSnapshot((function(e){ne(e.data())})),u.b.collection("users").doc(e.docs[0].id).collection("flowCharts").onSnapshot(function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.docs.forEach((function(e){n.push(e.data())}));case 3:re(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u.b.collection("users").doc(e.docs[0].id).onSnapshot((function(e){e.data().setNextMonth&&Me(!0)}))}))}),[b]),Object(l.useEffect)((function(){Y&&Y.data.elements.map((function(e){e.data&&e.data.startPoint&&Ae(e)}))}),[Y]);var Ae=function(e){var t=$;t.push(e),Q(t),B(e.data.postId),W(e);var n=[];Y.data.elements.map((function(t){t.source===e.id&&(t.label?(Y.data.elements.filter((function(e){return e.id===t.target}))[0].label=t.label,n.push(Y.data.elements.filter((function(e){return e.id===t.target}))[0])):(console.log(Y.data.elements.filter((function(e){return e.id===t.target}))[0]),n.push(Y.data.elements.filter((function(e){return e.id===t.target}))[0]))),X(n)}))};return Object(x.jsxs)(v.Provider,{value:(t={currentUser:b,userInfo:p,logout:function(){u.a.signOut(),f(null),j(null),Ne(!1)},dbKey:y,dbArr:we,setSelectedStatGroup:M,selectedStatGroup:k,selectedFlowChart:I,setSelectedFlowChart:N,flowChart:Y,setFlowChart:G,flowChartNodeSelected:F,setFlowChartNodeSelected:B,node:T,setNode:W,nextTerminals:J,setNextTerminals:X,lastArr:$,setLastArr:Q,goBack:function(){!function(e){var t=$;t.pop(),Q(t),B(e.data.postId),W(e);var n=[];Y.data.elements.map((function(t){t.source===e.id&&n.push(Y.data.elements.filter((function(e){return e.id===t.target}))[0]),X(n)}))}($[$.length-2])},flowChartNavigationNext:Ae,clearFlowChart:function(){console.log("clicked"),G(null),W(null),Q([]),X(null),B(null)},hattingMaterial:te,allFlowCharts:oe},Object(a.a)(t,"flowChart",Y),Object(a.a)(t,"setFlowChart",G),Object(a.a)(t,"selectedPostInFlowChart",ie),Object(a.a)(t,"setSelectedPostInFlowChart",ue),Object(a.a)(t,"notes",xe),Object(a.a)(t,"workingDays",je),Object(a.a)(t,"activeMonth",pe),Object(a.a)(t,"managementDashboard",Ie),t),class:"context",children:[n,Object(x.jsx)(d.a,{visible:ke,onCancel:function(){return Me(!1)},footer:null,children:Object(x.jsx)(w,{setNextMonthModal:Me,dbKey:y})})]})}}},[[212,7,11]]]);
//# sourceMappingURL=main.4781d303.chunk.js.map